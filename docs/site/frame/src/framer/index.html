<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>frame.src.framer API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>frame.src.framer</code></h1>
</header>
<section id="section-intro">
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="frame.src.framer.agency" href="agency/index.html">frame.src.framer.agency</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="frame.src.framer.brain" href="brain/index.html">frame.src.framer.brain</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="frame.src.framer.config" href="config.html">frame.src.framer.config</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="frame.src.framer.framer" href="framer.html">frame.src.framer.framer</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="frame.src.framer.framer_factory" href="framer_factory.html">frame.src.framer.framer_factory</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="frame.src.framer.soul" href="soul/index.html">frame.src.framer.soul</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="frame.src.framer.Framer"><code class="flex name class">
<span>class <span class="ident">Framer</span></span>
<span>(</span><span>config: <a title="frame.src.framer.config.FramerConfig" href="config.html#frame.src.framer.config.FramerConfig">FramerConfig</a>, llm_service: <a title="frame.src.services.llm.main.LLMService" href="../services/llm/main.html#frame.src.services.llm.main.LLMService">LLMService</a>, agency: <a title="frame.src.framer.agency.agency.Agency" href="agency/agency.html#frame.src.framer.agency.agency.Agency">Agency</a>, brain: <a title="frame.src.framer.brain.brain.Brain" href="brain/brain.html#frame.src.framer.brain.brain.Brain">Brain</a>, soul: <a title="frame.src.framer.soul.soul.Soul" href="soul/soul.html#frame.src.framer.soul.soul.Soul">Soul</a>, workflow_manager: <a title="frame.src.framer.agency.tasks.workflow.workflow_manager.WorkflowManager" href="agency/tasks/workflow/workflow_manager.html#frame.src.framer.agency.tasks.workflow.workflow_manager.WorkflowManager">WorkflowManager</a>, memory_service: Optional[<a title="frame.src.services.memory.main.MemoryService" href="../services/memory/main.html#frame.src.services.memory.main.MemoryService">MemoryService</a>] = None, eq_service: Optional[<a title="frame.src.services.eq.main.EQService" href="../services/eq/main.html#frame.src.services.eq.main.EQService">EQService</a>] = None, roles: Optional[List[Dict[str, Any]]] = None, goals: Optional[List[Dict[str, Any]]] = None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Framer:
    def __init__(
        self,
        config: FramerConfig,
        llm_service: LLMService,
        agency: Agency,
        brain: Brain,
        soul: Soul,
        workflow_manager: WorkflowManager,
        memory_service: Optional[MemoryService] = None,
        eq_service: Optional[EQService] = None,
        roles: Optional[List[Dict[str, Any]]] = None,
        goals: Optional[List[Dict[str, Any]]] = None,
    ):
        self._streamed_response = {&#34;status&#34;: &#34;pending&#34;, &#34;result&#34;: &#34;&#34;}
        self.config = config
        self.llm_service = llm_service
        self.agency = agency
        self.brain = brain
        self.soul = soul
        self.workflow_manager = workflow_manager
        self.memory_service = memory_service
        self.eq_service = eq_service
        self._dynamic_model_choice = False
        self.observers = []
        self.can_execute = True  # Add can_execute attribute

        # Initialize roles and goals
        self.roles = roles
        self.goals = goals

    def add_observer(self, observer: Observer) -&gt; None:
        &#34;&#34;&#34;
        Add an observer to be notified when a decision is made.

        Args:
            observer (Observer): The observer function to add.
        &#34;&#34;&#34;
        self.observers.append(observer)

    def remove_observer(self, observer: Observer) -&gt; None:
        &#34;&#34;&#34;
        Remove an observer.

        Args:
            observer (Observer): The observer function to remove.
        &#34;&#34;&#34;
        self.observers.remove(observer)

    def notify_observers(self, decision: Decision) -&gt; None:
        &#34;&#34;&#34;
        Notify all observers about a decision.

        Args:
            decision (Decision): The decision to notify observers about.
        &#34;&#34;&#34;
        for observer in self.observers:
            observer(decision)

        # Notify plugins about the decision
        if hasattr(self, &#34;plugins&#34;):
            for plugin in self.plugins.values():
                if hasattr(plugin, &#34;on_decision_made&#34;):
                    plugin.on_decision_made(decision)

    def notify_task_completion(self, task: Task) -&gt; None:
        &#34;&#34;&#34;
        Notify all observers and plugins about task completion.

        Args:
            task (Task): The task that was completed.
        &#34;&#34;&#34;
        for observer in self.observers:
            if hasattr(observer, &#34;on_task_completed&#34;):
                observer.on_task_completed(task)

        if hasattr(self, &#34;plugins&#34;):
            for plugin in self.plugins.values():
                if hasattr(plugin, &#34;on_task_completed&#34;):
                    plugin.on_task_completed(task)

    @classmethod
    async def create(
        cls,
        config: FramerConfig,
        llm_service: LLMService,
        soul_seed: Optional[Union[str, Dict[str, Any]]] = None,
        memory_service: Optional[MemoryService] = None,
        eq_service: Optional[EQService] = None,
    ) -&gt; &#34;Framer&#34;:
        agency = Agency(llm_service=llm_service, context=None)

        # Generate roles and goals if they are None
        roles = config.roles
        goals = config.goals

        soul = Soul(seed=soul_seed)
        brain = Brain(
            llm_service=llm_service,
            default_model=config.default_model,
            roles=roles,
            goals=goals,
            soul=soul,
        )
        workflow_manager = WorkflowManager()

        framer = cls(
            config=config,
            llm_service=llm_service,
            agency=agency,
            brain=brain,
            soul=soul,
            workflow_manager=workflow_manager,
            memory_service=memory_service,
            eq_service=eq_service,
            roles=roles,
            goals=goals,
        )

        await framer.initialize()
        return framer

    async def initialize(self):
        &#34;&#34;&#34;
        Initialize the Framer by generating or updating roles and goals.

        This method ensures that the Framer has valid roles and goals:
        1. If both roles and goals are None, generate new roles and goals.
        2. If roles are an empty list, set both roles and goals to empty lists.
        3. If goals are None and roles are provided (not None or empty), generate new goals.
        4. If both roles and goals are provided (not None), use the provided values.
        &#34;&#34;&#34;
        if self.roles is None and self.goals is None:
            generated_roles, generated_goals = (
                await self.agency.generate_roles_and_goals()
            )
            self.roles = [
                {&#34;name&#34;: role, &#34;description&#34;: f&#34;{role} description&#34;}
                for role in generated_roles
            ]
            self.goals = [
                {&#34;description&#34;: goal, &#34;priority&#34;: 1} for goal in generated_goals
            ]
        elif self.roles == []:
            self.goals = []
        elif self.goals is None and self.roles:
            _, generated_goals = await self.agency.generate_roles_and_goals()
            self.goals = [
                {&#34;description&#34;: goal, &#34;priority&#34;: 1} for goal in generated_goals
            ]
        elif self.roles and self.goals is None:
            new_roles, _ = await self.agency.generate_roles_and_goals()
            self.roles.extend(
                [
                    {&#34;name&#34;: role, &#34;description&#34;: f&#34;{role} description&#34;}
                    for role in new_roles
                ]
            )

        if not self.roles:
            self.roles = [
                {&#34;name&#34;: &#34;Default Role&#34;, &#34;description&#34;: &#34;Default role description&#34;}
            ]
        if not self.goals:
            self.goals = [
                {
                    &#34;description&#34;: &#34;Assist users to the best of my abilities&#34;,
                    &#34;priority&#34;: 1,
                }
            ]

        self.agency.set_roles(self.roles)
        self.agency.set_goals(self.goals)

        # Ensure the agency has the roles and goals attributes
        self.agency.roles = self.roles
        self.agency.goals = self.goals

    # Add a docstring explaining the role and goal generation behavior
    create.__doc__ = &#34;&#34;&#34;
    Create a new Framer instance.

    Role and goal generation behavior:
    - If both roles and goals are None, they will be generated using generate_roles_and_goals().
    - If roles is an empty list [] and goals is None, only roles will be generated.
    - If goals is an empty list [] and roles is None, only goals will be generated.
    - If both roles and goals are empty lists [], both will be generated.
    - If either roles or goals is provided (not None or empty list), the provided value will be used.

    Args:
        config (FramerConfig): Configuration for the Framer.
        llm_service (LLMService): Language model service.
        soul_seed (Optional[Union[str, Dict[str, Any]]]): Initial seed for the Framer&#39;s soul.
            Can be either a string or a dictionary. If a string is provided, it will be used
            as the &#39;text&#39; value in the soul&#39;s seed dictionary. If a dictionary is provided,
            it can include any keys and values, with an optional &#39;text&#39; key for the soul&#39;s essence.
        memory_service (Optional[MemoryService]): Memory service for the Framer.
        eq_service (Optional[EQService]): Emotional intelligence service for the Framer.

    Returns:
        Framer: A new Framer instance.
    &#34;&#34;&#34;

    async def perform_task(self, task: Dict[str, Any]) -&gt; Dict[str, Any]:
        &#34;&#34;&#34;
        Perform a task asynchronously.

        Args:
            task (Dict[str, Any]): Dictionary containing task details.

        Returns:
            Dict[str, Any]: Result of the task execution.
        &#34;&#34;&#34;
        logger.debug(f&#34;perform_task called with task: {task}&#34;)
        task_obj = Task(**task)
        result = await self.agency.perform_task(task_obj)
        return result if result is not None else {&#34;output&#34;: &#34;No result returned&#34;}

    async def sense(self, perception: Any) -&gt; Decision:
        &#34;&#34;&#34;
        Process a perception and make a decision.

        Args:
            perception (Any): The perception to process, can be a Perception object or a dictionary.

        Returns:
            Decision: The decision made based on the perception.
        &#34;&#34;&#34;
        if isinstance(perception, dict):
            perception = Perception.from_dict(perception)
        decision = await self.brain.process_perception(
            perception, self.agency.get_goals()
        )
        if hasattr(self, &#34;can_execute&#34;) and self.can_execute:
            await self.brain.execute_decision(decision)
        logger.debug(f&#34;Processed perception: {perception}, Decision: {decision}&#34;)
        self.notify_observers(decision)
        return decision</code></pre>
</details>
<h3>Static methods</h3>
<dl>
<dt id="frame.src.framer.Framer.create"><code class="name flex">
<span>async def <span class="ident">create</span></span>(<span>config: <a title="frame.src.framer.config.FramerConfig" href="config.html#frame.src.framer.config.FramerConfig">FramerConfig</a>, llm_service: <a title="frame.src.services.llm.main.LLMService" href="../services/llm/main.html#frame.src.services.llm.main.LLMService">LLMService</a>, soul_seed: Union[str, Dict[str, Any], ForwardRef(None)] = None, memory_service: Optional[<a title="frame.src.services.memory.main.MemoryService" href="../services/memory/main.html#frame.src.services.memory.main.MemoryService">MemoryService</a>] = None, eq_service: Optional[<a title="frame.src.services.eq.main.EQService" href="../services/eq/main.html#frame.src.services.eq.main.EQService">EQService</a>] = None) ‑> <a title="frame.src.framer.framer.Framer" href="framer.html#frame.src.framer.framer.Framer">Framer</a></span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="frame.src.framer.Framer.add_observer"><code class="name flex">
<span>def <span class="ident">add_observer</span></span>(<span>self, observer: Callable[[<a title="frame.src.framer.brain.decision.decision.Decision" href="brain/decision/decision.html#frame.src.framer.brain.decision.decision.Decision">Decision</a>], None]) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Add an observer to be notified when a decision is made.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>observer</code></strong> :&ensp;<code>Observer</code></dt>
<dd>The observer function to add.</dd>
</dl></div>
</dd>
<dt id="frame.src.framer.Framer.initialize"><code class="name flex">
<span>async def <span class="ident">initialize</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Initialize the Framer by generating or updating roles and goals.</p>
<p>This method ensures that the Framer has valid roles and goals:
1. If both roles and goals are None, generate new roles and goals.
2. If roles are an empty list, set both roles and goals to empty lists.
3. If goals are None and roles are provided (not None or empty), generate new goals.
4. If both roles and goals are provided (not None), use the provided values.</p></div>
</dd>
<dt id="frame.src.framer.Framer.notify_observers"><code class="name flex">
<span>def <span class="ident">notify_observers</span></span>(<span>self, decision: <a title="frame.src.framer.brain.decision.decision.Decision" href="brain/decision/decision.html#frame.src.framer.brain.decision.decision.Decision">Decision</a>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Notify all observers about a decision.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>decision</code></strong> :&ensp;<code>Decision</code></dt>
<dd>The decision to notify observers about.</dd>
</dl></div>
</dd>
<dt id="frame.src.framer.Framer.notify_task_completion"><code class="name flex">
<span>def <span class="ident">notify_task_completion</span></span>(<span>self, task: <a title="frame.src.framer.agency.tasks.task.Task" href="agency/tasks/task.html#frame.src.framer.agency.tasks.task.Task">Task</a>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Notify all observers and plugins about task completion.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>task</code></strong> :&ensp;<code>Task</code></dt>
<dd>The task that was completed.</dd>
</dl></div>
</dd>
<dt id="frame.src.framer.Framer.perform_task"><code class="name flex">
<span>async def <span class="ident">perform_task</span></span>(<span>self, task: Dict[str, Any]) ‑> Dict[str, Any]</span>
</code></dt>
<dd>
<div class="desc"><p>Perform a task asynchronously.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>task</code></strong> :&ensp;<code>Dict[str, Any]</code></dt>
<dd>Dictionary containing task details.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Dict[str, Any]</code></dt>
<dd>Result of the task execution.</dd>
</dl></div>
</dd>
<dt id="frame.src.framer.Framer.remove_observer"><code class="name flex">
<span>def <span class="ident">remove_observer</span></span>(<span>self, observer: Callable[[<a title="frame.src.framer.brain.decision.decision.Decision" href="brain/decision/decision.html#frame.src.framer.brain.decision.decision.Decision">Decision</a>], None]) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Remove an observer.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>observer</code></strong> :&ensp;<code>Observer</code></dt>
<dd>The observer function to remove.</dd>
</dl></div>
</dd>
<dt id="frame.src.framer.Framer.sense"><code class="name flex">
<span>async def <span class="ident">sense</span></span>(<span>self, perception: Any) ‑> <a title="frame.src.framer.brain.decision.decision.Decision" href="brain/decision/decision.html#frame.src.framer.brain.decision.decision.Decision">Decision</a></span>
</code></dt>
<dd>
<div class="desc"><p>Process a perception and make a decision.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>perception</code></strong> :&ensp;<code>Any</code></dt>
<dd>The perception to process, can be a Perception object or a dictionary.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Decision</code></dt>
<dd>The decision made based on the perception.</dd>
</dl></div>
</dd>
</dl>
</dd>
<dt id="frame.src.framer.FramerConfig"><code class="flex name class">
<span>class <span class="ident">FramerConfig</span></span>
<span>(</span><span>name: str, model: Optional[str] = None, description: Optional[str] = None, singleton: Optional[bool] = False, gender: Optional[str] = 'neutral', default_model: Optional[str] = 'gpt-3.5-turbo', multi_modal_model: Optional[str] = 'gpt-4-vision-preview', llm_temperature: Optional[float] = 0.7, llm_max_tokens: Optional[int] = 1024, llm_top_p: Optional[float] = 1.0, llm_frequency_penalty: Optional[float] = 0.0, llm_presence_penalty: Optional[float] = 0.0, is_multi_modal: Optional[bool] = False, roles: Optional[List[Dict[str, str]]] = &lt;factory&gt;, goals: Optional[List[Dict[str, Any]]] = &lt;factory&gt;, recent_memories_limit: Optional[int] = 5)</span>
</code></dt>
<dd>
<div class="desc"><p>FramerConfig(name: str, model: Optional[str] = None, description: Optional[str] = None, singleton: Optional[bool] = False, gender: Optional[str] = 'neutral', default_model: Optional[str] = 'gpt-3.5-turbo', multi_modal_model: Optional[str] = 'gpt-4-vision-preview', llm_temperature: Optional[float] = 0.7, llm_max_tokens: Optional[int] = 1024, llm_top_p: Optional[float] = 1.0, llm_frequency_penalty: Optional[float] = 0.0, llm_presence_penalty: Optional[float] = 0.0, is_multi_modal: Optional[bool] = False, roles: Optional[List[Dict[str, str]]] = <factory>, goals: Optional[List[Dict[str, Any]]] = <factory>, recent_memories_limit: Optional[int] = 5)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class FramerConfig:
    name: str
    model: Optional[str] = field(default=None)
    &#34;&#34;&#34;
    Configuration class for Framer instances.

    This class initializes a Framer configuration based on a dictionary of settings.
    It uses the FramerConfigModel to validate and set default values for the configuration.

    Attributes:
        name (str): The name of the Framer.
        description (Optional[str]): The description of the Framer.
        singleton (Optional[bool]): Whether the Framer is a singleton instance.
        gender (Optional[str]): The gender of the Framer.
        default_model (Optional[str]): The default language model to use.
        multi_modal_model (Optional[str]): The multi-modal model to use.
        llm_temperature (Optional[float]): The temperature setting for language model responses.
        llm_max_tokens (Optional[int]): The maximum number of tokens for language model responses.
        llm_top_p (Optional[float]): The top_p setting for language model responses.
        llm_frequency_penalty (Optional[float]): The frequency penalty for language model responses.
        llm_presence_penalty (Optional[float]): The presence penalty for language model responses.
        is_multi_modal (Optional[bool]): Indicates if multi-modal capabilities are enabled.
        roles (Optional[List[Dict[str, str]]]): The roles for the Framer.
        goals (Optional[List[Dict[str, Any]]]): The goals for the Framer.
    &#34;&#34;&#34;

    name: str
    description: Optional[str] = None
    singleton: Optional[bool] = False
    gender: Optional[str] = &#34;neutral&#34;
    default_model: Optional[str] = &#34;gpt-3.5-turbo&#34;
    multi_modal_model: Optional[str] = &#34;gpt-4-vision-preview&#34;
    llm_temperature: Optional[float] = 0.7
    llm_max_tokens: Optional[int] = 1024
    llm_top_p: Optional[float] = 1.0
    llm_frequency_penalty: Optional[float] = 0.0
    llm_presence_penalty: Optional[float] = 0.0
    is_multi_modal: Optional[bool] = False
    roles: Optional[List[Dict[str, str]]] = field(default_factory=list)
    goals: Optional[List[Dict[str, Any]]] = field(default_factory=list)
    recent_memories_limit: Optional[int] = 5

    async def initialize(self):
        &#34;&#34;&#34;Initialize the Framer with roles and goals.&#34;&#34;&#34;
        if self.agency.roles is None and self.agency.goals is None:
            self.agency.roles, self.agency.goals = (
                await self.agency.generate_roles_and_goals()
            )
        elif self.agency.roles == [] and self.agency.goals is None:
            _, self.agency.goals = await self.agency.generate_roles_and_goals()
        elif self.agency.goals == [] and self.agency.roles is None:
            self.agency.roles, _ = await self.agency.generate_roles_and_goals()
        elif self.agency.roles == [] and self.agency.goals == []:
            self.agency.roles, self.agency.goals = (
                await self.agency.generate_roles_and_goals()
            )

        # Ensure goals are generated if they are None
        if self.agency.goals is None:
            _, self.agency.goals = await self.agency.generate_roles_and_goals()

        # Ensure roles are generated if they are None
        if self.agency.roles is None:
            self.agency.roles, _ = await self.agency.generate_roles_and_goals()</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="frame.src.framer.FramerConfig.default_model"><code class="name">var <span class="ident">default_model</span> : Optional[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.description"><code class="name">var <span class="ident">description</span> : Optional[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.gender"><code class="name">var <span class="ident">gender</span> : Optional[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.goals"><code class="name">var <span class="ident">goals</span> : Optional[List[Dict[str, Any]]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.is_multi_modal"><code class="name">var <span class="ident">is_multi_modal</span> : Optional[bool]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.llm_frequency_penalty"><code class="name">var <span class="ident">llm_frequency_penalty</span> : Optional[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.llm_max_tokens"><code class="name">var <span class="ident">llm_max_tokens</span> : Optional[int]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.llm_presence_penalty"><code class="name">var <span class="ident">llm_presence_penalty</span> : Optional[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.llm_temperature"><code class="name">var <span class="ident">llm_temperature</span> : Optional[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.llm_top_p"><code class="name">var <span class="ident">llm_top_p</span> : Optional[float]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.model"><code class="name">var <span class="ident">model</span> : Optional[str]</code></dt>
<dd>
<div class="desc"><p>Configuration class for Framer instances.</p>
<p>This class initializes a Framer configuration based on a dictionary of settings.
It uses the FramerConfigModel to validate and set default values for the configuration.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the Framer.</dd>
<dt><strong><code>description</code></strong> :&ensp;<code>Optional[str]</code></dt>
<dd>The description of the Framer.</dd>
<dt><strong><code>singleton</code></strong> :&ensp;<code>Optional[bool]</code></dt>
<dd>Whether the Framer is a singleton instance.</dd>
<dt><strong><code>gender</code></strong> :&ensp;<code>Optional[str]</code></dt>
<dd>The gender of the Framer.</dd>
<dt><strong><code>default_model</code></strong> :&ensp;<code>Optional[str]</code></dt>
<dd>The default language model to use.</dd>
<dt><strong><code>multi_modal_model</code></strong> :&ensp;<code>Optional[str]</code></dt>
<dd>The multi-modal model to use.</dd>
<dt><strong><code>llm_temperature</code></strong> :&ensp;<code>Optional[float]</code></dt>
<dd>The temperature setting for language model responses.</dd>
<dt><strong><code>llm_max_tokens</code></strong> :&ensp;<code>Optional[int]</code></dt>
<dd>The maximum number of tokens for language model responses.</dd>
<dt><strong><code>llm_top_p</code></strong> :&ensp;<code>Optional[float]</code></dt>
<dd>The top_p setting for language model responses.</dd>
<dt><strong><code>llm_frequency_penalty</code></strong> :&ensp;<code>Optional[float]</code></dt>
<dd>The frequency penalty for language model responses.</dd>
<dt><strong><code>llm_presence_penalty</code></strong> :&ensp;<code>Optional[float]</code></dt>
<dd>The presence penalty for language model responses.</dd>
<dt><strong><code>is_multi_modal</code></strong> :&ensp;<code>Optional[bool]</code></dt>
<dd>Indicates if multi-modal capabilities are enabled.</dd>
<dt><strong><code>roles</code></strong> :&ensp;<code>Optional[List[Dict[str, str]]]</code></dt>
<dd>The roles for the Framer.</dd>
<dt><strong><code>goals</code></strong> :&ensp;<code>Optional[List[Dict[str, Any]]]</code></dt>
<dd>The goals for the Framer.</dd>
</dl></div>
</dd>
<dt id="frame.src.framer.FramerConfig.multi_modal_model"><code class="name">var <span class="ident">multi_modal_model</span> : Optional[str]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.recent_memories_limit"><code class="name">var <span class="ident">recent_memories_limit</span> : Optional[int]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.roles"><code class="name">var <span class="ident">roles</span> : Optional[List[Dict[str, str]]]</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerConfig.singleton"><code class="name">var <span class="ident">singleton</span> : Optional[bool]</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="frame.src.framer.FramerConfig.initialize"><code class="name flex">
<span>async def <span class="ident">initialize</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Initialize the Framer with roles and goals.</p></div>
</dd>
</dl>
</dd>
<dt id="frame.src.framer.FramerFactory"><code class="flex name class">
<span>class <span class="ident">FramerFactory</span></span>
<span>(</span><span>config: <a title="frame.src.framer.config.FramerConfig" href="config.html#frame.src.framer.config.FramerConfig">FramerConfig</a>, llm_service: <a title="frame.src.services.llm.main.LLMService" href="../services/llm/main.html#frame.src.services.llm.main.LLMService">LLMService</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Factory class for creating Framer instances.</p>
<p>This class encapsulates the logic for constructing Framer objects,
ensuring that all necessary components are properly initialized.</p>
<p>Initialize the FramerBuilder with configuration and LLM service.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>config</code></strong> :&ensp;<code><a title="frame.src.framer.FramerConfig" href="#frame.src.framer.FramerConfig">FramerConfig</a></code></dt>
<dd>Configuration for the Framer.</dd>
<dt><strong><code>llm_service</code></strong> :&ensp;<code>LLMService</code></dt>
<dd>Language model service for text generation.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FramerFactory:
    &#34;&#34;&#34;
    Factory class for creating Framer instances.

    This class encapsulates the logic for constructing Framer objects,
    ensuring that all necessary components are properly initialized.
    &#34;&#34;&#34;

    def __init__(self, config: FramerConfig, llm_service: LLMService):
        &#34;&#34;&#34;
        Initialize the FramerBuilder with configuration and LLM service.

        Args:
            config (FramerConfig): Configuration for the Framer.
            llm_service (LLMService): Language model service for text generation.
        &#34;&#34;&#34;
        &#34;&#34;&#34;
        Initialize the FramerFactory with configuration and LLM service.

        Args:
            config (FramerConfig): Configuration for the Framer.
            llm_service (LLMService): Language model service for text generation.
        &#34;&#34;&#34;
        if not isinstance(config, FramerConfig):
            raise TypeError(&#34;config must be an instance of FramerConfig&#34;)
        if not isinstance(llm_service, LLMService):
            raise TypeError(&#34;llm_service must be an instance of LLMService&#34;)
        self.config = config
        self.llm_service = llm_service
        self.plugins: Dict[str, Any] = {}

    async def create_framer(
        self,
        soul_seed: Optional[Union[str, Dict[str, Any]]] = None,
        memory_service: Optional[MemoryService] = None,
        eq_service: Optional[EQService] = None,
    ) -&gt; Framer:
        execution_context = ExecutionContext(llm_service=self.llm_service)
        agency = Agency(llm_service=self.llm_service, context=None)
        # Initialize the Agency component
        # Generate roles and goals
        roles, goals = await agency.generate_roles_and_goals()

        execution_context = ExecutionContext(llm_service=self.llm_service)
        brain = Brain(
            # Initialize the Brain component with roles, goals, and default model
            llm_service=self.llm_service,
            roles=roles,
            goals=goals,
            default_model=self.config.default_model,
            execution_context=execution_context,
        )

        if soul_seed is None:
            # Generate a default soul seed if none is provided
            soul_seed = &#34;You are a helpful AI assistant.&#34;

        soul = Soul(
            seed=(soul_seed if isinstance(soul_seed, dict) else {&#34;text&#34;: soul_seed})
        )
        # Initialize the Soul component with the provided or default seed
        workflow_manager = WorkflowManager()
        # Initialize the WorkflowManager component

        from frame.src.framer.framer import Framer  # Import Framer within the function

        framer = Framer(
            # Create the Framer instance with all initialized components
            config=self.config,
            llm_service=self.llm_service,
            agency=agency,
            brain=brain,
            soul=soul,
            workflow_manager=workflow_manager,
            memory_service=memory_service,
            eq_service=eq_service,
        )

        framer.agency.set_roles(roles)
        framer.agency.set_goals(goals)

        return framer

    def get_plugin(self, plugin_name: str) -&gt; Any:
        &#34;&#34;&#34;
        Retrieve a plugin by name.

        Args:
            plugin_name (str): The name of the plugin to retrieve.

        Returns:
            Any: The plugin object if found, otherwise None.
        &#34;&#34;&#34;
        return self.plugins.get(plugin_name)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="frame.src.framer.FramerFactory.create_framer"><code class="name flex">
<span>async def <span class="ident">create_framer</span></span>(<span>self, soul_seed: Union[str, Dict[str, Any], ForwardRef(None)] = None, memory_service: Optional[<a title="frame.src.services.memory.main.MemoryService" href="../services/memory/main.html#frame.src.services.memory.main.MemoryService">MemoryService</a>] = None, eq_service: Optional[<a title="frame.src.services.eq.main.EQService" href="../services/eq/main.html#frame.src.services.eq.main.EQService">EQService</a>] = None) ‑> <a title="frame.src.framer.framer.Framer" href="framer.html#frame.src.framer.framer.Framer">Framer</a></span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="frame.src.framer.FramerFactory.get_plugin"><code class="name flex">
<span>def <span class="ident">get_plugin</span></span>(<span>self, plugin_name: str) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve a plugin by name.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>plugin_name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the plugin to retrieve.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>The plugin object if found, otherwise None.</dd>
</dl></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="frame.src" href="../index.html">frame.src</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="frame.src.framer.agency" href="agency/index.html">frame.src.framer.agency</a></code></li>
<li><code><a title="frame.src.framer.brain" href="brain/index.html">frame.src.framer.brain</a></code></li>
<li><code><a title="frame.src.framer.config" href="config.html">frame.src.framer.config</a></code></li>
<li><code><a title="frame.src.framer.framer" href="framer.html">frame.src.framer.framer</a></code></li>
<li><code><a title="frame.src.framer.framer_factory" href="framer_factory.html">frame.src.framer.framer_factory</a></code></li>
<li><code><a title="frame.src.framer.soul" href="soul/index.html">frame.src.framer.soul</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="frame.src.framer.Framer" href="#frame.src.framer.Framer">Framer</a></code></h4>
<ul class="">
<li><code><a title="frame.src.framer.Framer.add_observer" href="#frame.src.framer.Framer.add_observer">add_observer</a></code></li>
<li><code><a title="frame.src.framer.Framer.create" href="#frame.src.framer.Framer.create">create</a></code></li>
<li><code><a title="frame.src.framer.Framer.initialize" href="#frame.src.framer.Framer.initialize">initialize</a></code></li>
<li><code><a title="frame.src.framer.Framer.notify_observers" href="#frame.src.framer.Framer.notify_observers">notify_observers</a></code></li>
<li><code><a title="frame.src.framer.Framer.notify_task_completion" href="#frame.src.framer.Framer.notify_task_completion">notify_task_completion</a></code></li>
<li><code><a title="frame.src.framer.Framer.perform_task" href="#frame.src.framer.Framer.perform_task">perform_task</a></code></li>
<li><code><a title="frame.src.framer.Framer.remove_observer" href="#frame.src.framer.Framer.remove_observer">remove_observer</a></code></li>
<li><code><a title="frame.src.framer.Framer.sense" href="#frame.src.framer.Framer.sense">sense</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="frame.src.framer.FramerConfig" href="#frame.src.framer.FramerConfig">FramerConfig</a></code></h4>
<ul class="">
<li><code><a title="frame.src.framer.FramerConfig.default_model" href="#frame.src.framer.FramerConfig.default_model">default_model</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.description" href="#frame.src.framer.FramerConfig.description">description</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.gender" href="#frame.src.framer.FramerConfig.gender">gender</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.goals" href="#frame.src.framer.FramerConfig.goals">goals</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.initialize" href="#frame.src.framer.FramerConfig.initialize">initialize</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.is_multi_modal" href="#frame.src.framer.FramerConfig.is_multi_modal">is_multi_modal</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.llm_frequency_penalty" href="#frame.src.framer.FramerConfig.llm_frequency_penalty">llm_frequency_penalty</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.llm_max_tokens" href="#frame.src.framer.FramerConfig.llm_max_tokens">llm_max_tokens</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.llm_presence_penalty" href="#frame.src.framer.FramerConfig.llm_presence_penalty">llm_presence_penalty</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.llm_temperature" href="#frame.src.framer.FramerConfig.llm_temperature">llm_temperature</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.llm_top_p" href="#frame.src.framer.FramerConfig.llm_top_p">llm_top_p</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.model" href="#frame.src.framer.FramerConfig.model">model</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.multi_modal_model" href="#frame.src.framer.FramerConfig.multi_modal_model">multi_modal_model</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.name" href="#frame.src.framer.FramerConfig.name">name</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.recent_memories_limit" href="#frame.src.framer.FramerConfig.recent_memories_limit">recent_memories_limit</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.roles" href="#frame.src.framer.FramerConfig.roles">roles</a></code></li>
<li><code><a title="frame.src.framer.FramerConfig.singleton" href="#frame.src.framer.FramerConfig.singleton">singleton</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="frame.src.framer.FramerFactory" href="#frame.src.framer.FramerFactory">FramerFactory</a></code></h4>
<ul class="">
<li><code><a title="frame.src.framer.FramerFactory.create_framer" href="#frame.src.framer.FramerFactory.create_framer">create_framer</a></code></li>
<li><code><a title="frame.src.framer.FramerFactory.get_plugin" href="#frame.src.framer.FramerFactory.get_plugin">get_plugin</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
